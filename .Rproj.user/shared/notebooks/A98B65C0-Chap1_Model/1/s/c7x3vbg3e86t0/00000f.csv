"0","import requests"
"0",""
"0","# GitHub Personal Access Token"
"0","github_token = ""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"""
"0",""
"0","# Your GitHub username"
"0","github_username = ""Calapo"""
"0",""
"0","# Repository name"
"0","repo_name = ""Potts378proj"""
"0",""
"0","# Request URL for creating a new repository"
"0","create_repo_url = ""https://api.github.com/user/repos"""
"0",""
"0","# Request headers with authorization token"
"0","headers = {"
"0","    ""Authorization"": f""token {github_token}"","
"0","    ""Content-Type"": ""application/json"","
"0","}"
"0",""
"0","# Payload for creating the repository"
"0","create_payload = {"
"0","    ""name"": repo_name,"
"0","    ""description"": ""An empty public repository"","
"0","    ""private"": False,  # Public repository"
"0","}"
"0",""
"0","# Create the repository"
"0","response = requests.post(create_repo_url, json=create_payload, headers=headers)"
"0",""
"0","# Check if the repository was created successfully"
"0","if response.status_code == 201:"
"0","    print(f""Repository '{repo_name}' created successfully."")"
"0","    "
"0","    # URL for updating repository settings to set the default branch"
"0","    set_default_branch_url = f""https://api.github.com/repos/{github_username}/{repo_name}"""
"0","    "
"0","    # Payload to set the default branch"
"0","    default_branch_payload = {"
"0","        ""default_branch"": ""master"",  # Set your desired default branch name"
"0","    }"
"0","    "
"0","    # PATCH request to update the repository and set the default branch"
"0","    response = requests.patch(set_default_branch_url, json=default_branch_payload, headers=headers)"
"0","    "
"0","    # Check if the default branch was set successfully"
"0","    if response.status_code == 200:"
"0","        print(""Default branch set successfully."")"
"0","    else:"
"0","        print(""Failed to set default branch."")"
"0","        print(""Status code:"", response.status_code)"
"0","        print(""Response:"", response.json())"
"0","else:"
"0","    print(""Failed to create repository."")"
"0","    print(""Status code:"", response.status_code)"
"0","    print(""Response:"", response.json())"
"0","    "
"0",""
"1","Repository 'Potts378proj' created successfully.
"
"1","Failed to set default branch.
Status code: 422
Response: {'message': 'Validation Failed', 'errors': [{'message': 'Cannot update default branch for an empty repository. Please init the repository and push first.', 'resource': 'Repository', 'field': 'default_branch', 'code': 'invalid'}], 'documentation_url': 'https://docs.github.com/rest/repos/repos#update-a-repository'}
"
